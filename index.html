<!DOCTYPE html> 
<html>
<head>
  <meta charset="UTF-8">
  <title>Student Course Planner</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <h1>Student Course Planner</h1>
    <label>Enter Student ID:</label>
    <input v-model="studentId" placeholder="e.g., 1" />
    <button @click="loadStudent">Load Student</button>

    <h2>Add New Student</h2>
    <form @submit.prevent="addNewStudent">
      <input v-model="newStudent._id" placeholder="Student ID" required />
      <input v-model="newStudent.name" placeholder="Name" required />
      <input v-model="newStudent.email" placeholder="Email" required />
      <input v-model="newStudent.major" placeholder="Major" required />
      <input v-model="newStudent.gpa" placeholder="GPA" type="number" step="0.01" required />
      <button type="submit">Add Student</button>
    </form>

    <div v-if="student">
      <h2>Plan a Course</h2>
      <input v-model="courseSearch.subject" placeholder="Subject (e.g., CS)" />
      <input v-model="courseSearch.course_number" placeholder="Course Number (e.g., 101)" />
      <input v-model="courseSearch.term" placeholder="Term (Fall or Spring 2026)" />
      <button @click="fetchCourse">Search Course</button>

      <div v-if="searchedCourse">
        <h3>Course Info</h3>
        <p><strong>Course:</strong> {{ searchedCourse.course_id }}</p>
        <p><strong>Term:</strong> {{ searchedCourse.term }}</p>
        <p><strong>Start Date:</strong> {{ searchedCourse.start_date }}</p>
        <p><strong>End Date:</strong> {{ searchedCourse.end_date }}</p>
        <p><strong>Prerequisites:</strong> {{ searchedCourse.prerequisites.join(', ') || 'None' }}</p>
        <p><strong>Instructor(s):</strong> {{ searchedCourse.instructors.join(', ') }}</p>
        <p><strong>Credits:</strong> {{ searchedCourse.credits }}</p>
        <p><strong>Students Enrolled:</strong> {{ searchedCourse.enrollment_count }}</p>
        <button @click="addCourseToPlan">Add Course to Plan</button>
      </div>

      <h2>Your Planned Courses</h2>
      <ul>
        <li v-for="course in student.planned_courses" :key="course.course_id + course.term">
          {{ course.course_id }} ({{ course.term }}) - {{ course.credits }} credits - {{ course.instructors.join(', ') }}
          <button @click="removeCourse(course.course_id)">Remove</button>
        </li>
      </ul>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>